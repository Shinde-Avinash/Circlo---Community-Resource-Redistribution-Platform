{% extends 'base.html' %}
{% block title %}Edit User: {{ user_to_edit.username }}{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 2rem auto;">
    <div class="card">
        <h2 style="margin-bottom: 1.5rem; border-bottom: 1px solid var(--border-color); padding-bottom: 1rem;">
            Edit User: <span style="color: var(--primary-color);">{{ user_to_edit.username }}</span>
        </h2>

        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {% for field in form %}
            <div class="form-group" style="margin-bottom: 1.5rem;">
                <label style="font-weight: 500; margin-bottom: 0.5rem; display: block;">{{ field.label }}</label>
                {{ field }}
                {% if field.help_text %}
                    <small style="color: var(--text-muted); display: block; margin-top: 0.25rem;">{{ field.help_text }}</small>
                {% endif %}
                {% if field.errors %}
                    <div style="color: var(--danger); font-size: 0.9rem; margin-top: 0.25rem;">{{ field.errors }}</div>
                {% endif %}
            </div>
            {% endfor %}

            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <button type="submit" class="btn btn-primary" style="flex: 1;">Save Changes</button>
                <a href="{% url 'manage_users' %}" class="btn" style="background: var(--bg-color); color: var(--text-color); border: 1px solid var(--border-color);">Cancel</a>
            </div>
        </form>
    </div>
</div>

<style>
    /* Ensure inputs match the theme */
    input[type="text"], input[type="email"], select {
        width: 100%;
        padding: 0.8rem;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        background-color: var(--bg-color);
        color: var(--text-color);
    }
    input[type="checkbox"] {
        width: 20px;
        height: 20px;
    }
</style>
{% endblock %}
